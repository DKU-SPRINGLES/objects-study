# 설계 품질과 트레이드 오프

## 용어

### 캡슐화

- 구현 : 변경될 가능성이 높은 부분
- 인터페이스 : 상대적으로 안정적인 부분
- 객체지향 설계의 기본 아이디어는 변경의 정도에 따라 구현과 인터페이스를 분리하고 외부에서는 인터페이스에만 의존하도록 관계를 조절하는 것이다

### 응집도와 결합도

- 응집도 : 모듈에 포함된 내부요소들이 연관된 정도
- 결합도 : 다른 모듈에 대해 얼마나 많이 알고있는지 나타내는 척도

### 변경의 관점에서

- 응집도 : 변경이 발생할때 모듈 내부에서 발생하는 변경의 정도
- 결합도 : 변경이 발생할때 모듈 외부에 변경을 요구하는 정도

## 데이터 중심 설계

**캡슐화**

- 데이터 중심 설계에서 캡슐화를 달성하는 쉬운방법은 접근자(Getter)와 수정자(Setter)를 추가하는것이다.
- 객체가 사용될 문맥을 제대로 파악하지 못한채 설계하면 객체가 어떠한 상황에서도 사용될 수 있도록 최대한 많은 접근자 메서드를 추가하게 된다.

**높은 결합도**

- 여러 데이터 객체들을 사용하는 제어로직이 특정 객체안에 집중되기 때문에 하나의 제어 객체가 다수의 데이터 객체에 강하게 결합된다.

**낮은 응집도**

- 하나의 요구사항 변경을 반영하기 위해 동시에 여러 모듈을 수정하게 된다.

## 데이터 중심 설계의 문제점

- 너무 이른시기에 데이터에 고민하기 때문에 캡슐화에 실패하게 된다.
- 객체간의 협력을 초점에 두지않고, 객체가 관리할 세부정보에 초점을 맞추게 되면 객체의 구현이 결정된상태에서 협력 방법을 고민하기 때문에 이미 구현된 객체에 인터페이스를 억지로 끼워맞추게 된다.

## 읽고 든 생각

- 테스트 주도 개발의 장점을 한번더 생각하게 된다. 유저 스토리를 기반으로 객체의 협력 방식을 정의하고 나면 자연스럽게 데이터 중심 설계에서 벗어나 객체의 책임을 중심으로 설계할 수 있는것 같다.
- [**데이터 중심 애플리케이션 설계 (마틴 클레프만)**](https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=140018308)
    - 번외지만, 데이터 중심 설계에대해 조금 알아보려다 좋은 책을 하나 찾았다. 데이터를 저장하고 처리하는데 인프라를 어떻게 구축해야하는가에 대한 내용을 담고있다. 
